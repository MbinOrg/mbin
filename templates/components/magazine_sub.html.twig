<aside{{ attributes.defaults({class: 'magazine__subscribe', 'data-controller': 'subs'}) }}>
    <div class="action"
        title="{{ magazine.subscriptionsCount ~ ' ' ~ 'subscribers_count'|trans({'%count%': magazine.subscriptionsCount}) }}"
        aria-label="{{ magazine.subscriptionsCount ~ ' ' ~ 'subscribers_count'|trans({'%count%': magazine.subscriptionsCount}) }}">
        <i class="fa-solid fa-users" aria-hidden="true"></i><span>{{ magazine.subscriptionsCount }}</span>
    </div>
    {% if not is_instance_of_magazine_blocked(magazine) %}
        <form action="{{ path('magazine_' ~ (is_magazine_subscribed(magazine) ? 'unsubscribe' : 'subscribe'), {name: magazine.name}) }}"
              name="magazine_subscribe"
              method="post">
            <button type="submit"
                    class="{{ html_classes('btn btn__secondary action', {'active': is_magazine_subscribed(magazine)}) }}"
                    title="{% if is_magazine_subscribed(magazine) %}{{ 'unsubscribe'|trans }}{% else %}{{ 'subscribe'|trans }}{% endif %}"
                    data-action="subs#send">
                {% if is_magazine_subscribed(magazine) %}
                    <i class="fa-sharp fa-solid fa-folder-minus" aria-hidden="true"></i><span>{{ 'unsubscribe_short'|trans }}</span>
                {% else %}
                    <i class="fa-sharp fa-solid fa-folder-plus" aria-hidden="true"></i><span>{{ 'subscribe_short'|trans }}</span>
                {% endif %}
            </button>
        </form>
        <form action="{{ path('magazine_' ~ (is_magazine_blocked(magazine) ? 'unblock' : 'block'), {name: magazine.name}) }}"
              name="magazine_block"
              method="post">
            <button type="submit"
                    class="{{ html_classes('btn btn__secondary action', {'active danger': is_magazine_blocked(magazine)}) }}"
                    data-action="subs#send">
                <i class="fa-solid fa-ban" aria-hidden="true"></i><span>{{ is_magazine_blocked(magazine) ? 'unblock'|trans : 'block'|trans }}</span>
            </button>
        </form>
    {% endif %}
</aside>
